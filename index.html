<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/index.css" />
    <title>Portfolio | Tim Shaker</title>
  </head>
  <body>
    <main>
      <section>
        <aside responsive-background-image>
          <img
            sizes="800w, 1800w"
            srcset="
              images/resized/clouds-800w.jpg   800w,
              images/resized/clouds-1800w.jpg 1800w
            "
          />
        </aside>
        <article>
          <h1>Hello, I'm Tim</h1>
          <p>I'm studying Full Stack Web Development at Lambda School</p>
        </article>
      </section>
      <section>
        <aside responsive-background-image>
          <img
            sizes="800w, 1800w"
            srcset="
              images/resized/code-800w.jpg   800w,
              images/resized/code-1800w.jpg 1800w
            "
          />
        </aside>
        <article>
          <h2>Skills</h2>
          <ul>
            <li>
              HTML
            </li>
            <li>
              CSS
            </li>
            <li>
              SCSS
            </li>
            <li>
              Responsive Design
            </li>
            <li>
              React
            </li>
            <li>
              Gatsby
            </li>
            <li>
              Jekyll
            </li>
            <li>
              Node
            </li>
          </ul>
        </article>
      </section>
      <section>
        <aside responsive-background-image>
          <img
            sizes="800w, 1800w"
            srcset="
              images/resized/water-800w.jpg   800w,
              images/resized/water-1800w.jpg 1800w
            "
          />
        </aside>
        <article>
          <h2>Projects</h2>
        </article>
      </section>
      <section>
        <article>
          <h2>Contact</h2>
        </article>
      </section>
    </main>
    <script>
      class ResponsiveBackgroundImage {
        constructor(element) {
          this.element = element;
          this.img = element.querySelector("img");
          this.src = "";

          this.img.addEventListener("load", () => {
            this.update();
          });

          if (this.img.complete) {
            this.update();
          }
        }

        update() {
          let src =
            typeof this.img.currentSrc !== "undefined"
              ? this.img.currentSrc
              : this.img.src;
          if (this.src !== src) {
            this.src = src;
            this.element.style.backgroundImage = 'url("' + this.src + '")';
          }
        }
      }
      document.querySelectorAll("[responsive-background-image]").forEach(el => {
        new ResponsiveBackgroundImage(el);
      });
      document.querySelectorAll("section").forEach((el, i, arr) => {
        if (i < arr.length - 1) {
          el.onclick = function() {
            arr[i + 1].scrollIntoView({ behavior: "smooth" });
          };
        }
      });
    </script>
  </body>
</html>
